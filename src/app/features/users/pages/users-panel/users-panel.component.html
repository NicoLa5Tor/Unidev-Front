<div class="relative min-h-screen bg-[var(--bg)] px-4 py-10 text-[var(--text)] lg:px-10">
  <div class="absolute inset-0 bg-cyber-grid bg-grid opacity-10"></div>
  <div class="absolute top-0 left-0 h-1 w-full bg-gradient-to-r from-[var(--accent-1)] via-[var(--accent-2)] to-[var(--accent-3)]"></div>

  <header
    class="sticky top-0 z-30 w-full border-b border-[color:var(--panel-border)] bg-[var(--panel)]/95 px-4 shadow-[var(--shadow)] backdrop-blur transition-all duration-300 lg:px-10"
    [ngClass]="isHeaderCompact ? 'py-2' : 'py-4'"
  >
    <div class="mx-auto flex w-full max-w-6xl flex-col gap-4">
      <div class="flex items-center justify-between gap-4">
        <div class="flex items-center gap-4">
          <div
            class="rounded-2xl bg-gradient-to-r from-[var(--accent-1)] to-[var(--accent-2)] flex items-center justify-center font-cyber text-[var(--text)] transition-all duration-300"
            [ngClass]="isHeaderCompact ? 'h-9 w-9 text-sm' : 'h-12 w-12 text-lg'"
          >
            NR
          </div>
          <div>
            <p *ngIf="!isHeaderCompact" class="text-xs uppercase tracking-[0.3em] text-[var(--accent-3)] font-tech">
              Dashboard usuario
            </p>
            <h1
              class="font-cyber font-bold bg-gradient-to-r from-[var(--accent-1)] via-[var(--accent-2)] to-[var(--accent-3)] bg-clip-text text-transparent transition-all duration-300"
              [ngClass]="isHeaderCompact ? 'text-lg' : 'mt-1 text-2xl'"
            >
              Bienvenido, Nicolas
            </h1>
          </div>
        </div>

        <button
          class="lg:hidden rounded-2xl border border-[color:var(--panel-border)] bg-[var(--panel)] px-3 py-2 text-xs uppercase tracking-[0.2em] text-[var(--muted)]"
          (click)="toggleMobileMenu()"
        >
          Menu
        </button>
      </div>

      <nav class="hidden flex-wrap items-center justify-between gap-4 lg:flex" [ngClass]="isHeaderCompact ? 'pb-1' : ''">
        <div class="flex flex-wrap items-center gap-8 text-[11px] uppercase tracking-[0.36em]">
          <button
            class="group relative pb-2 font-tech transition"
            (click)="setTab('offers')"
          >
            <span [ngClass]="activeTab === 'offers' ? 'text-[var(--accent-1)]' : 'text-[var(--muted)] group-hover:text-[var(--accent-1)]'">
              Ofertas
            </span>
            <span
              class="absolute left-0 -bottom-1 h-[2px] w-full rounded-full bg-[var(--accent-1)] transition-all duration-300"
              [ngClass]="activeTab === 'offers' ? 'opacity-100' : 'opacity-0 group-hover:opacity-60'"
            ></span>
          </button>
          <button
            class="group relative pb-2 font-tech transition"
            (click)="setTab('applications')"
          >
            <span [ngClass]="activeTab === 'applications' ? 'text-[var(--accent-3)]' : 'text-[var(--muted)] group-hover:text-[var(--accent-3)]'">
              Aplicaciones
            </span>
            <span
              class="absolute left-0 -bottom-1 h-[2px] w-full rounded-full bg-[var(--accent-3)] transition-all duration-300"
              [ngClass]="activeTab === 'applications' ? 'opacity-100' : 'opacity-0 group-hover:opacity-60'"
            ></span>
          </button>
          <button
            class="group relative pb-2 font-tech transition"
            (click)="setTab('profile')"
          >
            <span [ngClass]="activeTab === 'profile' ? 'text-[var(--accent-2)]' : 'text-[var(--muted)] group-hover:text-[var(--accent-2)]'">
              Perfil
            </span>
            <span
              class="absolute left-0 -bottom-1 h-[2px] w-full rounded-full bg-[var(--accent-2)] transition-all duration-300"
              [ngClass]="activeTab === 'profile' ? 'opacity-100' : 'opacity-0 group-hover:opacity-60'"
            ></span>
          </button>
        </div>

        <div class="flex items-center gap-3 text-xs uppercase tracking-[0.2em] text-[var(--muted)]">
          <label class="font-tech">Tema</label>
          <select
            class="rounded-full border border-[color:var(--panel-border)] bg-[var(--panel)] px-3 py-1 text-xs uppercase tracking-[0.2em] text-[var(--muted)] focus:border-[color:var(--accent-3)]/60 focus:outline-none"
            [ngModel]="currentTheme"
            (ngModelChange)="setTheme($event)"
          >
            <option *ngFor="let theme of themes" [value]="theme.id">{{ theme.label }}</option>
          </select>
          <button
            class="rounded-full border border-[color:var(--accent-2)]/40 bg-[var(--accent-2)]/15 px-3 py-1 font-tech text-[var(--accent-2)]"
            (click)="logout()"
          >
            Cerrar sesion
          </button>
        </div>
      </nav>

      <div *ngIf="isMobileMenuOpen" class="space-y-4 lg:hidden">
        <div class="flex flex-col gap-4 text-[11px] uppercase tracking-[0.36em]">
          <button class="group relative pb-2 text-left font-tech transition" (click)="setTab('offers')">
            <span [ngClass]="activeTab === 'offers' ? 'text-[var(--accent-1)]' : 'text-[var(--muted)]'">Ofertas</span>
            <span
              class="absolute left-0 -bottom-1 h-[2px] w-20 rounded-full bg-[var(--accent-1)] transition-all duration-300"
              [ngClass]="activeTab === 'offers' ? 'opacity-100' : 'opacity-0 group-hover:opacity-60'"
            ></span>
          </button>
          <button class="group relative pb-2 text-left font-tech transition" (click)="setTab('applications')">
            <span [ngClass]="activeTab === 'applications' ? 'text-[var(--accent-3)]' : 'text-[var(--muted)]'">
              Aplicaciones
            </span>
            <span
              class="absolute left-0 -bottom-1 h-[2px] w-24 rounded-full bg-[var(--accent-3)] transition-all duration-300"
              [ngClass]="activeTab === 'applications' ? 'opacity-100' : 'opacity-0 group-hover:opacity-60'"
            ></span>
          </button>
          <button class="group relative pb-2 text-left font-tech transition" (click)="setTab('profile')">
            <span [ngClass]="activeTab === 'profile' ? 'text-[var(--accent-2)]' : 'text-[var(--muted)]'">Perfil</span>
            <span
              class="absolute left-0 -bottom-1 h-[2px] w-16 rounded-full bg-[var(--accent-2)] transition-all duration-300"
              [ngClass]="activeTab === 'profile' ? 'opacity-100' : 'opacity-0 group-hover:opacity-60'"
            ></span>
          </button>
        </div>

        <div class="flex flex-wrap items-center gap-3 text-xs uppercase tracking-[0.2em] text-[var(--muted)]">
          <label class="font-tech">Tema</label>
          <select
            class="rounded-full border border-[color:var(--panel-border)] bg-[var(--panel)] px-3 py-1 text-xs uppercase tracking-[0.2em] text-[var(--muted)] focus:border-[color:var(--accent-3)]/60 focus:outline-none"
            [ngModel]="currentTheme"
            (ngModelChange)="setTheme($event)"
          >
            <option *ngFor="let theme of themes" [value]="theme.id">{{ theme.label }}</option>
          </select>
          <button
            class="rounded-full border border-[color:var(--accent-2)]/40 bg-[var(--accent-2)]/15 px-3 py-1 font-tech text-[var(--accent-2)]"
            (click)="logout()"
          >
            Cerrar sesion
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="relative mx-auto flex w-full max-w-6xl flex-col gap-8 pt-10">
    <section *ngIf="activeTab === 'offers'" class="grid gap-6 lg:grid-cols-[2fr_1fr]">
      <div class="space-y-4">
        <div
          class="rounded-3xl border border-[color:var(--panel-border)] bg-[var(--panel)] p-5 shadow-[var(--shadow)]"
          *ngFor="let offer of offers"
        >
          <div class="flex flex-wrap items-start justify-between gap-4">
            <div>
              <h3 class="text-xl font-semibold text-[var(--text)]">{{ offer.title }}</h3>
              <p class="text-sm text-[var(--muted)]">{{ offer.company }} â€¢ {{ offer.location }}</p>
            </div>
            <span class="rounded-full border border-[color:var(--accent-3)]/30 bg-[var(--accent-3)]/10 px-3 py-1 text-xs text-[var(--accent-3)]">
              {{ offer.budget }}
            </span>
          </div>
          <div class="mt-4 flex flex-wrap gap-2">
            <span
              class="rounded-full border border-[color:var(--accent-1)]/30 bg-[var(--panel)] px-3 py-1 text-xs text-[var(--muted)]"
              *ngFor="let tag of offer.tags"
            >
              {{ tag }}
            </span>
          </div>
          <div class="mt-5 flex flex-wrap gap-3">
            <button class="rounded-xl border border-[color:var(--accent-1)]/30 bg-[var(--accent-1)]/20 px-4 py-2 text-xs uppercase tracking-[0.2em] text-[var(--accent-1)]">
              Aplicar
            </button>
            <button class="rounded-xl border border-[color:var(--muted)]/30 bg-[var(--panel)] px-4 py-2 text-xs uppercase tracking-[0.2em] text-[var(--muted)]">
              Guardar
            </button>
          </div>
        </div>
      </div>

      <aside class="rounded-3xl border border-[color:var(--accent-3)]/20 bg-[var(--panel)] p-6">
        <h3 class="text-lg font-cyber text-[var(--accent-3)]">Resumen rapido</h3>
        <div class="mt-6 space-y-4 text-sm text-[var(--muted)]">
          <div class="flex items-center justify-between">
            <span>Ofertas nuevas</span>
            <span class="text-[var(--accent-1)]">12</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Aplicaciones activas</span>
            <span class="text-[var(--accent-3)]">4</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Mensajes</span>
            <span class="text-[var(--accent-2)]">2</span>
          </div>
        </div>
        <div class="mt-6 rounded-2xl bg-[var(--panel)] p-4 text-xs text-[var(--muted)]">
          Consejo: completa tu perfil para aumentar tu tasa de respuesta.
        </div>
      </aside>
    </section>

    <section *ngIf="activeTab === 'applications'" class="rounded-3xl border border-[color:var(--accent-3)]/20 bg-[var(--panel)] p-6">
      <h2 class="text-xl font-cyber text-[var(--accent-3)]">Tus aplicaciones</h2>
      <div class="mt-5 space-y-4">
        <div class="rounded-2xl border border-[color:var(--panel-border)] bg-[var(--panel)] p-4" *ngFor="let application of applications">
          <div class="flex flex-wrap items-center justify-between gap-3">
            <div>
              <h3 class="text-lg font-semibold text-[var(--text)]">{{ application.title }}</h3>
              <p class="text-sm text-[var(--muted)]">{{ application.company }}</p>
            </div>
            <span class="rounded-full border border-[color:var(--accent-2)]/30 bg-[var(--accent-2)]/10 px-3 py-1 text-xs text-[var(--accent-2)]">
              {{ application.status }}
            </span>
          </div>
          <p class="mt-3 text-xs text-[var(--muted)]">Actualizado: {{ application.date }}</p>
        </div>
      </div>
    </section>

    <section *ngIf="activeTab === 'profile'" class="grid gap-6 lg:grid-cols-[1.2fr_1fr]">
      <div class="rounded-3xl border border-[color:var(--accent-1)]/20 bg-[var(--panel)] p-6">
        <h2 class="text-xl font-cyber text-[var(--accent-1)]">Perfil</h2>
        <div class="mt-6 space-y-3 text-sm text-[var(--muted)]">
          <p><span class="text-[var(--muted)]">Nombre:</span> {{ profile.name }}</p>
          <p><span class="text-[var(--muted)]">Rol:</span> {{ profile.role }}</p>
          <p><span class="text-[var(--muted)]">Ubicacion:</span> {{ profile.location }}</p>
          <p><span class="text-[var(--muted)]">Email:</span> {{ profile.email }}</p>
        </div>
      </div>
      <div class="rounded-3xl border border-[color:var(--accent-3)]/20 bg-[var(--panel)] p-6">
        <h2 class="text-xl font-cyber text-[var(--accent-3)]">Skills</h2>
        <div class="mt-4 flex flex-wrap gap-2">
          <span
            class="rounded-full border border-[color:var(--accent-3)]/30 bg-[var(--panel)] px-3 py-1 text-xs text-[var(--muted)]"
            *ngFor="let skill of profile.skills"
          >
            {{ skill }}
          </span>
        </div>
      </div>
    </section>
  </div>
</div>
